{
  "id": "9f847a56-a2d7-4c6e-bdd3-588e76f1ac03",
  "prevId": "7ea352c1-4dc6-4c50-92b0-cceeb0c19a39",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.profiles": {
      "name": "profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nickname": {
          "name": "nickname",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "profiles_id_users_id_fk": {
          "name": "profiles_id_users_id_fk",
          "tableFrom": "profiles",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "profiles_public_read": {
          "name": "profiles_public_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "profiles_owner_update": {
          "name": "profiles_owner_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ],
          "using": "auth.uid() = \"id\""
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.educations": {
      "name": "educations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "resume_id": {
          "name": "resume_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "institution": {
          "name": "institution",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "major": {
          "name": "major",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "educations_resume_id_resumes_id_fk": {
          "name": "educations_resume_id_resumes_id_fk",
          "tableFrom": "educations",
          "tableTo": "resumes",
          "columnsFrom": [
            "resume_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "view_undefined": {
          "name": "view_undefined",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "EXISTS (\n    SELECT 1 FROM resumes \n    WHERE resumes.id = \"resume_id\" \n    AND (resumes.is_public = true OR resumes.user_id = auth.uid())\n  )"
        },
        "manage_undefined": {
          "name": "manage_undefined",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "EXISTS (\n    SELECT 1 FROM resumes \n    WHERE resumes.id = \"resume_id\" \n    AND resumes.user_id = auth.uid()\n  )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.experience_skills": {
      "name": "experience_skills",
      "schema": "",
      "columns": {
        "experience_id": {
          "name": "experience_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "experience_skills_experience_id_experiences_id_fk": {
          "name": "experience_skills_experience_id_experiences_id_fk",
          "tableFrom": "experience_skills",
          "tableTo": "experiences",
          "columnsFrom": [
            "experience_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "experience_skills_skill_id_skills_id_fk": {
          "name": "experience_skills_skill_id_skills_id_fk",
          "tableFrom": "experience_skills",
          "tableTo": "skills",
          "columnsFrom": [
            "skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "experience_skills_experience_id_skill_id_pk": {
          "name": "experience_skills_experience_id_skill_id_pk",
          "columns": [
            "experience_id",
            "skill_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "manage_exp_skills": {
          "name": "manage_exp_skills",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "EXISTS (\n      SELECT 1 FROM experiences e \n      JOIN resumes r ON e.resume_id = r.id \n      WHERE e.id = experience_id AND r.user_id = auth.uid()\n    )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.experiences": {
      "name": "experiences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "resume_id": {
          "name": "resume_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company": {
          "name": "company",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "experiences_resume_id_resumes_id_fk": {
          "name": "experiences_resume_id_resumes_id_fk",
          "tableFrom": "experiences",
          "tableTo": "resumes",
          "columnsFrom": [
            "resume_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "view_undefined": {
          "name": "view_undefined",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "EXISTS (\n    SELECT 1 FROM resumes \n    WHERE resumes.id = \"resume_id\" \n    AND (resumes.is_public = true OR resumes.user_id = auth.uid())\n  )"
        },
        "manage_undefined": {
          "name": "manage_undefined",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "EXISTS (\n    SELECT 1 FROM resumes \n    WHERE resumes.id = \"resume_id\" \n    AND resumes.user_id = auth.uid()\n  )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resumes": {
      "name": "resumes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "photo": {
          "name": "photo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "blog": {
          "name": "blog",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin": {
          "name": "linkedin",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "instagram": {
          "name": "instagram",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "facebook": {
          "name": "facebook",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github": {
          "name": "github",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "youtube": {
          "name": "youtube",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "x": {
          "name": "x",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "introduce": {
          "name": "introduce",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "english_level": {
          "name": "english_level",
          "type": "english_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "resumes_user_id_profiles_id_fk": {
          "name": "resumes_user_id_profiles_id_fk",
          "tableFrom": "resumes",
          "tableTo": "profiles",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "view_resumes": {
          "name": "view_resumes",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "is_public = true OR auth.uid() = user_id"
        },
        "manage_resumes": {
          "name": "manage_resumes",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "auth.uid() = \"user_id\""
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.side_project_skills": {
      "name": "side_project_skills",
      "schema": "",
      "columns": {
        "side_project_id": {
          "name": "side_project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "side_project_skills_side_project_id_side_projects_id_fk": {
          "name": "side_project_skills_side_project_id_side_projects_id_fk",
          "tableFrom": "side_project_skills",
          "tableTo": "side_projects",
          "columnsFrom": [
            "side_project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "side_project_skills_skill_id_skills_id_fk": {
          "name": "side_project_skills_skill_id_skills_id_fk",
          "tableFrom": "side_project_skills",
          "tableTo": "skills",
          "columnsFrom": [
            "skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "side_project_skills_side_project_id_skill_id_pk": {
          "name": "side_project_skills_side_project_id_skill_id_pk",
          "columns": [
            "side_project_id",
            "skill_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "manage_proj_skills": {
          "name": "manage_proj_skills",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "EXISTS (\n      SELECT 1 FROM side_projects p \n      JOIN resumes r ON p.resume_id = r.id \n      WHERE p.id = side_project_id AND r.user_id = auth.uid()\n    )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.side_projects": {
      "name": "side_projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "resume_id": {
          "name": "resume_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "link": {
          "name": "link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "side_projects_resume_id_resumes_id_fk": {
          "name": "side_projects_resume_id_resumes_id_fk",
          "tableFrom": "side_projects",
          "tableTo": "resumes",
          "columnsFrom": [
            "resume_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "view_undefined": {
          "name": "view_undefined",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "EXISTS (\n    SELECT 1 FROM resumes \n    WHERE resumes.id = \"resume_id\" \n    AND (resumes.is_public = true OR resumes.user_id = auth.uid())\n  )"
        },
        "manage_undefined": {
          "name": "manage_undefined",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "EXISTS (\n    SELECT 1 FROM resumes \n    WHERE resumes.id = \"resume_id\" \n    AND resumes.user_id = auth.uid()\n  )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.skill_aliases": {
      "name": "skill_aliases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "alias": {
          "name": "alias",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "skill_aliases_skill_id_skills_id_fk": {
          "name": "skill_aliases_skill_id_skills_id_fk",
          "tableFrom": "skill_aliases",
          "tableTo": "skills",
          "columnsFrom": [
            "skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "skill_aliases_alias_unique": {
          "name": "skill_aliases_alias_unique",
          "nullsNotDistinct": false,
          "columns": [
            "alias"
          ]
        }
      },
      "policies": {
        "read_aliases": {
          "name": "read_aliases",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {
        "aliases_lowercase": {
          "name": "aliases_lowercase",
          "value": "alias = LOWER(alias)"
        }
      },
      "isRLSEnabled": false
    },
    "public.skills": {
      "name": "skills",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "skills_name_unique": {
          "name": "skills_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {
        "read_skills": {
          "name": "read_skills",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "insert_skills": {
          "name": "insert_skills",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "true"
        }
      },
      "checkConstraints": {
        "skills_name_lowercase": {
          "name": "skills_name_lowercase",
          "value": "name = LOWER(name)"
        }
      },
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.english_level": {
      "name": "english_level",
      "schema": "public",
      "values": [
        "Native",
        "Advanced",
        "Intermediate",
        "Basic"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}